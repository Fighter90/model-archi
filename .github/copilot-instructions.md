<!--
Короткие инструкции для AI-агентов, помогающие быстро включиться в работу с этим репозиторием.
Файл сгенерирован автоматически на основе README.md и структуры репозитория.
-->

# Copilot / AI agent instructions — model-archi

Коротко: это репозиторий учебного проекта по моделированию архитектуры предприятия в формате Archi/ArchiMate. Основные артефакты — файлы Archi: `example.archimate` и `model_fitnes.archimate`, а также документация в `README.md` и `docs/`.

Основная цель агента: помогать редактировать/восстанавливать и улучшать Archi-файлы (в частности `model_fitnes.archimate`) и генерировать корректные ArchiMate-представления строго в рамках требований, описанных в `README.md`.

Что важно знать сразу
- Репозиторий не содержит исполняемого кода: это модель в формате Archi и документация. Не пытайтесь запускать сборки/тесты — их нет.
- Ключевые файлы и директории:
  - `model_fitnes.archimate` — основной рабочий файл модели (AS-IS). Правки в нём — основная задача.
  - `example.archimate` — пример/шаблон, может использоваться для референса стиля.
  - `README.md` — подробное задание, бизнес-процессы, целевые числовые требования (например, минимальное число элементов и связей).
  - `docs/` — дополнительные материалы; `docs/task.pdf` содержит формальное задание.

Проектные требования и ограничения (ссылка на README)
- Моделирование должно следовать ArchiMate 3.2 (совместимо с Archi 5.x). Все связи и элементы должны быть валидны по метамодели.
- Минимальные количественные требования: число элементов и связей для каждой подсистемы (см. README). При правках подтверждайте масштабы (например, цель ≥ 50 элементов для бизнес-архитектуры).
- Структура модели должна включать группировки (Group/Area) для: Booking, Storage, Reporting (в README конкретно перечислены названия областей и наборы элементов/сервисов/процессов).

Как агент может помочь (конкретные полезные действия)
- Предложить корректную структуру слоёв (Business Layer) и набор сущностей/связей в текстовом виде (например, YAML/CSV/CSV-like), которую можно импортировать или использовать как чек-лист при ручном редактировании в Archi.
- Генерировать отчёты о валидности: перечислить ожидаемые типы связей, присвоения ролей, интерфейсов и проверить их наличие в `model_fitnes.archimate` (если доступен парсер). Если парсер отсутствует, вернуть checklist с конкретными XPath/названиями элементов для ручной проверки.
- Предлагать исправления, конкретные renames и mappings (например: переименовать элемент "Стойка администратора" в "Front Desk Interface" / Area: Booking) и выдавать безопасные шаги по изменению модели.

Примеры конкретных инструкций/ветвей
- "Добавь в Business Layer сервис `svc-booking` с типом Business Service, привяжи его к роли `role-frontdesk` через Assignment, отметь Area: Booking" — ожидаемый ответ: чек-лист из 3 операций и пример атрибутов (name, type, area).
- "Проверь, что в модели есть не менее 50 элементов для Business Architecture" — ответ: подсчёт по имени/типу элементов или выдача списка элементов для ручной проверки.

Формат ответов от агента
- Будьте кратки. Для изменений в модели отдавайте чёткий набор шагов (1..n), каждый шаг выполним вручную в Archi.
- Примеры: таблица CSV с колонками: element_id,name,type,area,parent_id,notes — это удобно экспортировать/импортировать.

Проектные паттерны и конвенции (вывод из README)
- Именование: элементы русскоязычные, но допускаются англ. аналоги в скобках; при добавлении новых элементов указывайте краткий англ. алиас.
- Area/Grouping: используйте три основные области: Booking, Storage, Reporting (именовать поле 'area' в выдаваемых наборах).
- Services/Processes: сервисы именуются как `svc-*`, процессы как `proc-*`, объекты данных как `obj-*`, события как `event-*`. Следуйте этой схеме при создании новых сущностей.

Ограничения и что не делать
- Не добавляйте кодовые файлы или исполняемые скрипты — репозиторий это модель, не приложение.
- Не меняйте `README.md` требования — используйте его как источник истины для масштабов и структуры.

Если что-то неясно
- Спросите уточнение по: 1) нужно ли отдавать изменения в виде CSV/YAML для импорта в Archi; 2) нужно ли локально валидировать `.archimate` (в этом случае доступ к парсеру Archi/ArchiMate требуется).

## Текущее состояние модели `model_fitnes.archimate` (2025-10-17 — ОБНОВЛЕНО)

**Статистика:**
- Всего элементов: ~569 (5 BusinessActors, 26 BusinessProcesses, 8 BusinessServices, 9 ApplicationComponents, 8 ApplicationServices, 9 Technology Nodes)
- Всего связей (Relationships): ~396
- Views (диаграмм): 26 ✓ (4 Business AS-IS + 3 Business TO-BE + 4 IS AS-IS + 3 IS TO-BE + 4 Tech AS-IS + 3 Tech TO-BE + 3 Transition)

**Структура Views (полная):**

| Слой | AS-IS | TO-BE | Transition | Статус |
|------|-------|-------|-----------|--------|
| Business | 4 (Integrated + 3 область) | 3 | — | ✓ Полно |
| IS/Application | 4 (Integrated + 3 область) | 3 | — | ✓ Полно |
| Technology | 4 (Integrated + 3 область) | 3 | — | ✓ Полно |
| Transition Architecture | — | — | 3 (по областям) | ✓ Полно |
| **ИТОГО** | **12** | **9** | **3** | **✓ 26 Views** |

**Структура элементов:**
- **Business Layer**: ✓ полностью (80+ элементов, все с Property Area)
  - Actors, Roles (5 на каждую область)
  - Interfaces (3 типа)
  - Services (8 бизнес-сервисов)
  - Processes (26 штук)
  - Objects (13 объектов)
  - Events (11 событий)
  - Groupings (3: Booking, Storage, Reporting)
  
- **Application Layer**: ✓ существует (40+ элементов)
  - Components (9)
  - Services (8)
  - Functions (14+)
  - Data Objects (10+)
  
- **Technology Layer**: ✓ существует (35+ элементов)
  - Nodes (9)
  - Devices (5)
  - Services (10)
  - Artifacts (5)
  - Networks (3)
  - Functions (4)

**Что было доделано в этом обновлении:**
1. ✓ Добавлена AS-IS Запись — Business View (была отсутствующей)
2. ✓ Добавлены 9 TO-BE Views (Business × 3, IS × 3, Tech × 3)
3. ✓ Добавлены 3 Transition Architecture Views (по областям)
4. ✓ XML модели валидна

**Что осталось для полноты:**
- ⚠️ Детализация TO-BE Views (добавить элементы/сервисы TO-BE в диаграммы)
- ⚠️ Детализация Transition Architecture Views (показать AS-IS→TO-BE переходы)
- ⚠️ Добавить TO-BE элементы в Business Layer (процессы, сервисы с суффиксом TO-BE)
- ⚠️ Финальная валидация в Archi (Tools → Validate Model)

**Конкретные шаги для AI-агента:**
- Если просили дополнить Business Layer: убедиться что все 80+ элементов имеют Property: Area = {Запись|Хранение|Отчётность}
- Если просили проверить Application Layer: убедиться что Services имеют Realization к Business Processes
- Если просили создать TO-BE: дублировать AS-IS элементы, добавить суффикс "TO-BE" (например "Процесс: Запись клиента (TO-BE)") и показать изменения описанием или цветом
- Если просили проверить связи: основные типы должны быть Assignment, Realization, Serving, Access, Triggering (в т.ч. между Event→Process)

Полезные быстрые ссылки по задачам в репо
- Проверка задания: `README.md` (в корне).  
- Формальное задание: `docs/task.pdf`.  
- Основная модель: `model_fitnes.archimate`.  
- Пример стиля: `example.archimate`.  

---

## Дополнительно: Инструкции по доработке

**Для полноты проекта требуется:**
1. Добавить 3 AS-IS View Business Layer (+ AS-IS Запись, которая отсутствует)
2. Добавить 6 TO-BE Views (Business × 3, IS/Application × 3, Technology × 3 — по областям)
3. Добавить 3-1 Transition Architecture Views
4. Убедиться в прослеживаемости между слоями (каждому Business процессу должны соответствовать Application Services и Technology Services)
5. Запустить валидацию и добиться Validator: 0 errors

Если возникают вопросы по формату или нужны примеры — обратитесь к примеру в `example.archimate` или прочитайте задание в `docs/task.pdf`.
